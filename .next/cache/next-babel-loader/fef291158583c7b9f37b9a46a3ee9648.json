{"ast":null,"code":"import Product from \"../../models/Product\";\nexport default (async (req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n\n    case \"POST\":\n      await handlePostRequest(req, res);\n      break;\n\n    case \"DELETE\":\n      await handleDeleteRequest(req, res);\n      break;\n\n    case \"PUT\":\n      await handlePutRequest(req, res);\n      break;\n\n    default:\n      res.status(405).send(`Method ${req.method} not allowed`);\n      break;\n  }\n});\n\nasync function handleGetRequest(req, res) {\n  const product = await Product.findOne({\n    _id: req.query.id\n  });\n  res.status(200).json(product);\n}\n\nasync function handlePostRequest(req, res) {}\n\nasync function handleDeleteRequest(req, res) {\n  const product = await Product.findOneAndDelete({\n    _id: req.query.id\n  });\n\n  if (res.status(204)) {\n    res.json({});\n  }\n\n  res.status(200).send(product);\n}\n\nasync function handlePutRequest(req, res) {}","map":{"version":3,"sources":["/Users/renanyudi/Sites/estudos/react-app/react-next/pages/api/product.js"],"names":["Product","req","res","method","handleGetRequest","handlePostRequest","handleDeleteRequest","handlePutRequest","status","send","product","findOne","_id","query","id","json","findOneAndDelete"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,sBAApB;AAEA,gBAAe,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAChC,UAAOD,GAAG,CAACE,MAAX;AACE,SAAK,KAAL;AACE,YAAMC,gBAAgB,CAACH,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACF,SAAK,MAAL;AACE,YAAMG,iBAAiB,CAACJ,GAAD,EAAMC,GAAN,CAAvB;AACA;;AACF,SAAK,QAAL;AACE,YAAMI,mBAAmB,CAACL,GAAD,EAAMC,GAAN,CAAzB;AACA;;AACF,SAAK,KAAL;AACE,YAAMK,gBAAgB,CAACN,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACF;AACEA,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB,UAASR,GAAG,CAACE,MAAO,cAA1C;AACA;AAfJ;AAiBD,CAlBD;;AAoBA,eAAeC,gBAAf,CAAgCH,GAAhC,EAAqCC,GAArC,EAA0C;AACxC,QAAMQ,OAAO,GAAG,MAAMV,OAAO,CAACW,OAAR,CAAgB;AAAEC,IAAAA,GAAG,EAAEX,GAAG,CAACY,KAAJ,CAAUC;AAAjB,GAAhB,CAAtB;AACAZ,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBO,IAAhB,CAAqBL,OAArB;AACD;;AAED,eAAeL,iBAAf,CAAiCJ,GAAjC,EAAsCC,GAAtC,EAA2C,CAE1C;;AAED,eAAeI,mBAAf,CAAmCL,GAAnC,EAAwCC,GAAxC,EAA6C;AAC3C,QAAMQ,OAAO,GAAG,MAAMV,OAAO,CAACgB,gBAAR,CAAyB;AAAEJ,IAAAA,GAAG,EAAEX,GAAG,CAACY,KAAJ,CAAUC;AAAjB,GAAzB,CAAtB;;AACA,MAAIZ,GAAG,CAACM,MAAJ,CAAW,GAAX,CAAJ,EAAqB;AACnBN,IAAAA,GAAG,CAACa,IAAJ,CAAS,EAAT;AACD;;AACDb,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,OAArB;AACD;;AAED,eAAeH,gBAAf,CAAgCN,GAAhC,EAAqCC,GAArC,EAA0C,CAEzC","sourcesContent":["import Product from \"../../models/Product\";\n\nexport default async(req, res) => {\n  switch(req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n    case \"POST\":\n      await handlePostRequest(req, res);\n      break;\n    case \"DELETE\":\n      await handleDeleteRequest(req, res);\n      break;\n    case \"PUT\":\n      await handlePutRequest(req, res);\n      break;\n    default:\n      res.status(405).send(`Method ${req.method} not allowed`);\n      break;\n  }\n}\n\nasync function handleGetRequest(req, res) {\n  const product = await Product.findOne({ _id: req.query.id });\n  res.status(200).json(product);\n}\n\nasync function handlePostRequest(req, res) {\n\n} \n\nasync function handleDeleteRequest(req, res) {\n  const product = await Product.findOneAndDelete({ _id: req.query.id });\n  if (res.status(204)) {\n    res.json({})\n  }\n  res.status(200).send(product);\n}\n\nasync function handlePutRequest(req, res) {\n\n}"]},"metadata":{},"sourceType":"module"}