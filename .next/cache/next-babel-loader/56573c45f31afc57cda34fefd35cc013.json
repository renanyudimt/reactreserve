{"ast":null,"code":"import cookie from \"js-cookie\";\nimport Router from 'next/router'; //Usaremos o Router direto do next/router, sem ser o useRouter, porque estamos dentro de uma function e nao um function component e vai dar erro se tentar usar o useRouter.\n\nexport function handleLogin(token) {\n  cookie.set('reactreserve_token', token);\n  Router.push(\"/account\");\n}\nexport function redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, {\n      Location: location\n    });\n    ctx.res.end();\n  } else {\n    Router.push(location);\n  }\n}\nexport function handleLogout() {\n  cookie.remove(\"reactreserve_token\");\n  Router.push(\"/login\");\n}","map":{"version":3,"sources":["/Users/renanyudi/Sites/estudos/react-app/react-next/utils/auth.js"],"names":["cookie","Router","handleLogin","token","set","push","redirectUser","ctx","location","req","res","writeHead","Location","end","handleLogout","remove"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB,C,CAEA;;AACA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACjCH,EAAAA,MAAM,CAACI,GAAP,CAAW,oBAAX,EAAiCD,KAAjC;AACAF,EAAAA,MAAM,CAACI,IAAP,CAAY,UAAZ;AACD;AAED,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAA2BC,QAA3B,EAAqC;AAC1C,MAAID,GAAG,CAACE,GAAR,EAAa;AACXF,IAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,MAAAA,QAAQ,EAAEJ;AAAZ,KAAvB;AACAD,IAAAA,GAAG,CAACG,GAAJ,CAAQG,GAAR;AACD,GAHD,MAGO;AACLZ,IAAAA,MAAM,CAACI,IAAP,CAAYG,QAAZ;AACD;AACF;AAED,OAAO,SAASM,YAAT,GAAwB;AAC7Bd,EAAAA,MAAM,CAACe,MAAP,CAAc,oBAAd;AACAd,EAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACD","sourcesContent":["import cookie from \"js-cookie\";\nimport Router from 'next/router'\n\n//Usaremos o Router direto do next/router, sem ser o useRouter, porque estamos dentro de uma function e nao um function component e vai dar erro se tentar usar o useRouter.\nexport function handleLogin(token) {\n  cookie.set('reactreserve_token', token)\n  Router.push(\"/account\")\n}\n\nexport function redirectUser(ctx, location) {\n  if (ctx.req) {\n    ctx.res.writeHead(302, { Location: location });\n    ctx.res.end();\n  } else {\n    Router.push(location);\n  }\n}\n\nexport function handleLogout() {\n  cookie.remove(\"reactreserve_token\");\n  Router.push(\"/login\");\n}"]},"metadata":{},"sourceType":"module"}