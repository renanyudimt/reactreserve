{"ast":null,"code":"import Product from \"../../models/Product\";\nexport default (async (req, res) => {\n  console.log(req.method);\n\n  switch (req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n\n    case \"POST\":\n      await handlePostRequest(req, res);\n      break;\n\n    case \"DELETE\":\n      await handleDeleteRequest(req, res);\n      break;\n\n    case \"PUT\":\n      await handlePutRequest(req, res);\n      break;\n\n    default:\n      res.status(405).send(`Method ${req.method} not allowed`);\n      break;\n  }\n});\n\nasync function handleGetRequest(req, res) {\n  const product = await Product.findOne({\n    _id: req.query.id\n  });\n\n  if (res.status(200)) {\n    res.json(product);\n  } else {\n    console.log(\"erro no get\");\n  }\n}\n\nasync function handlePostRequest(req, res) {}\n\nasync function handleDeleteRequest(req, res) {\n  await Product.findOneAndDelete({\n    _id: req.query.id\n  });\n\n  if (res.status(204)) {\n    res.json({});\n  }\n}\n\nasync function handlePutRequest(req, res) {}","map":{"version":3,"sources":["/Users/renanyudi/Sites/estudos/react-app/react-next/pages/api/product.js"],"names":["Product","req","res","console","log","method","handleGetRequest","handlePostRequest","handleDeleteRequest","handlePutRequest","status","send","product","findOne","_id","query","id","json","findOneAndDelete"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,sBAApB;AAEA,gBAAe,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAhB;;AACA,UAAOJ,GAAG,CAACI,MAAX;AACE,SAAK,KAAL;AACE,YAAMC,gBAAgB,CAACL,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACF,SAAK,MAAL;AACE,YAAMK,iBAAiB,CAACN,GAAD,EAAMC,GAAN,CAAvB;AACA;;AACF,SAAK,QAAL;AACE,YAAMM,mBAAmB,CAACP,GAAD,EAAMC,GAAN,CAAzB;AACA;;AACF,SAAK,KAAL;AACE,YAAMO,gBAAgB,CAACR,GAAD,EAAMC,GAAN,CAAtB;AACA;;AACF;AACEA,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB,UAASV,GAAG,CAACI,MAAO,cAA1C;AACA;AAfJ;AAiBD,CAnBD;;AAqBA,eAAeC,gBAAf,CAAgCL,GAAhC,EAAqCC,GAArC,EAA0C;AACxC,QAAMU,OAAO,GAAG,MAAMZ,OAAO,CAACa,OAAR,CAAgB;AAAEC,IAAAA,GAAG,EAAEb,GAAG,CAACc,KAAJ,CAAUC;AAAjB,GAAhB,CAAtB;;AACA,MAAId,GAAG,CAACQ,MAAJ,CAAW,GAAX,CAAJ,EAAqB;AACnBR,IAAAA,GAAG,CAACe,IAAJ,CAASL,OAAT;AACD,GAFD,MAEO;AACLT,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF;;AAED,eAAeG,iBAAf,CAAiCN,GAAjC,EAAsCC,GAAtC,EAA2C,CAE1C;;AAED,eAAeM,mBAAf,CAAmCP,GAAnC,EAAwCC,GAAxC,EAA6C;AAC3C,QAAMF,OAAO,CAACkB,gBAAR,CAAyB;AAAEJ,IAAAA,GAAG,EAAEb,GAAG,CAACc,KAAJ,CAAUC;AAAjB,GAAzB,CAAN;;AACA,MAAId,GAAG,CAACQ,MAAJ,CAAW,GAAX,CAAJ,EAAqB;AACnBR,IAAAA,GAAG,CAACe,IAAJ,CAAS,EAAT;AACD;AACF;;AAED,eAAeR,gBAAf,CAAgCR,GAAhC,EAAqCC,GAArC,EAA0C,CAEzC","sourcesContent":["import Product from \"../../models/Product\";\n\nexport default async(req, res) => {\n  console.log(req.method)\n  switch(req.method) {\n    case \"GET\":\n      await handleGetRequest(req, res);\n      break;\n    case \"POST\":\n      await handlePostRequest(req, res);\n      break;\n    case \"DELETE\":\n      await handleDeleteRequest(req, res);\n      break;\n    case \"PUT\":\n      await handlePutRequest(req, res);\n      break;\n    default:\n      res.status(405).send(`Method ${req.method} not allowed`);\n      break;\n  }\n}\n\nasync function handleGetRequest(req, res) {\n  const product = await Product.findOne({ _id: req.query.id });\n  if (res.status(200)) {\n    res.json(product);\n  } else {\n    console.log(\"erro no get\")\n  }\n}\n\nasync function handlePostRequest(req, res) {\n\n} \n\nasync function handleDeleteRequest(req, res) {\n  await Product.findOneAndDelete({ _id: req.query.id });\n  if (res.status(204)) {\n    res.json({})\n  }\n}\n\nasync function handlePutRequest(req, res) {\n\n}"]},"metadata":{},"sourceType":"module"}