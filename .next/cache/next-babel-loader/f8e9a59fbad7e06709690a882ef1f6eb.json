{"ast":null,"code":"import User from \"../../models/User\";\nimport jwt from \"jsonwebtoken\";\nimport connectDb from \"../../utils/connectDb\";\nimport { destroyCookie } from \"nookies\";\nconnectDb();\nexport default (async (req, res) => {\n  console.log(req.headers);\n\n  if (!(\"authorization\" in req.headers)) {\n    return res.status(401).send(\"No authorization token\");\n  }\n\n  try {\n    const {\n      userId\n    } = jwt.verify(req.headers.authorization, process.env.JWT_SECRET);\n    const user = await User.findOne({\n      _id: userId\n    });\n\n    if (user) {\n      res.json({\n        successs: true,\n        data: user\n      });\n    } else {\n      res.json({\n        successs: false,\n        msg: \"User not found\"\n      });\n    }\n  } catch (error) {\n    res.status(403).json({\n      success: false,\n      msg: \"Invalid token\"\n    });\n  }\n});","map":null,"metadata":{},"sourceType":"module"}